!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VanillaSlider=e():t.VanillaSlider=e()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.listeners=new Set}return t.prototype.attach=function(t){this.listeners.add(t)},t.prototype.remove=function(t){this.listeners.delete(t)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listeners.forEach(function(e){e.apply(void 0,t)})},t}();e.default=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(2),n=o(3),s=o(6),r=function(){function t(t,e,o){void 0===e&&(e={}),this.wrap=o,this.setRoot(t)&&this.init(e)}return Object.defineProperty(t.prototype,"data",{get:function(){return Object.assign({},this.model.data,this.view.data)},enumerable:!0,configurable:!0}),t.prototype.set=function(t){this.setOptions(t),this.model.init(this.modelOptions),this.view.init(this.viewOptions),this.controller.init(this.controllerOptions,!0)},t.prototype.init=function(t){this.setOptions(t),this.model=new i.default(this.modelOptions),this.view=new n.default(this.root,this.viewOptions),this.controller=new s.default(this.model,this.view,this.controllerOptions)},t.prototype.setOptions=function(t){if(this.modelOptions={},this.viewOptions={},this.controllerOptions={},t.type&&["single","min","max","double"].includes(t.type)&&(this.viewOptions.type=t.type,this.modelOptions.type="double"===t.type),t.orientation&&["horizontal","vertical"].includes(t.orientation)&&(this.viewOptions.orientation=t.orientation),void 0===t.min||Number.isNaN(Number(t.min))||(this.modelOptions.min=Number(t.min)),void 0===t.max||Number.isNaN(Number(t.max))||(this.modelOptions.max=Number(t.max)),void 0===t.from||Number.isNaN(Number(t.from))||(this.modelOptions.from=Number(t.from)),void 0===t.to||Number.isNaN(Number(t.to))||(this.modelOptions.to=Number(t.to)),void 0!==t.from_fixed){var e=/true/i.test(t.from_fixed.toString());this.modelOptions.from_fixed=e,this.viewOptions.from_fixed=e}if(void 0!==t.to_fixed){var e=/true/i.test(t.to_fixed.toString());this.modelOptions.to_fixed=e,this.viewOptions.to_fixed=e}void 0===t.step||Number.isNaN(Number(t.step))||(this.modelOptions.step=Number(t.step)),this.controllerOptions.onCreate=t.onCreate,this.controllerOptions.onStart=t.onStart,this.controllerOptions.onSlide=t.onSlide,this.controllerOptions.onEnd=t.onEnd,this.controllerOptions.onUpdate=t.onUpdate},t.prototype.setRoot=function(e){var o=t.checkNode(e);if(!o)throw"Invalid node type, expected 'div'";return this.root=o,!0},t.checkNode=function(t){if(t instanceof HTMLDivElement||t instanceof HTMLSpanElement)return t;if(t instanceof HTMLCollection&&t[0]instanceof HTMLDivElement)return t[0];if("string"==typeof t){var e=document.querySelector(t);if(e instanceof HTMLDivElement||e instanceof HTMLSpanElement)return e}},t}(),a=function(){function t(e,o){void 0===o&&(o={});var i=new r(e,o,this);this.set=i.set.bind(i),this.data=function(){return i.data},t.instances.push(i)}return t.for=function(e){for(var o=r.checkNode(e),i=0,n=t.instances;i<n.length;i++){var s=n[i];if(o&&o===s.root)return s.wrap}},t.instances=[],t}();e.default=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(0),n=function(){function t(t){void 0===t&&(t={}),this.triggers={fromChanged:new i.default,toChanged:new i.default},this.options={type:!1,min:0,max:100,from:0,from_fixed:!1,to:0,to_fixed:!1,step:1},this.init(t)}return Object.defineProperty(t.prototype,"data",{get:function(){return this.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.triggers},enumerable:!0,configurable:!0}),t.prototype.init=function(t){void 0===t&&(t={}),void 0!==t.type&&this.setType(t.type),void 0!==t.step&&this.setStep(t.step),void 0===t.min&&void 0===t.max||this.setRange(t.min,t.max),void 0===t.from_fixed&&void 0===t.to_fixed||this.setFixed(t.from_fixed,t.to_fixed),void 0===t.from&&void 0===t.to||this.setValues(t.from,t.to)},t.prototype.calcFromWithStep=function(t){var e;this.options.from_fixed||(e=Math.round((t-this.options.min)/this.options.step)*this.options.step+this.options.min,(e=this.options.type?this.inDaipason(e,this.options.min,this.options.to):this.inDaipason(e,this.options.min,this.options.max))!==this.options.from&&(this.options.from=e,this.triggers.fromChanged.notify(this.options.from)))},t.prototype.calcToWithStep=function(t){var e;this.options.type&&!this.options.to_fixed&&(e=Math.round((t-this.options.min)/this.options.step)*this.options.step+this.options.min,(e=this.inDaipason(e,this.options.from,this.options.max))!==this.options.to&&(this.options.to=e,this.triggers.toChanged.notify(this.options.to)))},t.prototype.setRange=function(t,e){void 0===t&&(t=this.options.min),void 0===e&&(e=this.options.max),t>e&&(e=t),this.options.min=t,this.options.max=e,this.updateFromTo()},t.prototype.setValues=function(t,e){void 0===t&&(t=this.options.from),void 0===e&&(e=this.options.to),this.options.from=t,this.options.to=e,this.updateFromTo()},t.prototype.setStep=function(t){var e=this.options.max-this.options.min;this.options.step=t<=0?1:t>e?e:t},t.prototype.setType=function(t){this.options.type=t,this.updateFromTo()},t.prototype.setFixed=function(t,e){void 0===t&&(t=this.options.from_fixed),void 0===e&&(e=this.options.to_fixed),this.options.from_fixed=t,this.options.to_fixed=e},t.prototype.updateFromTo=function(){this.options.from=this.inDaipason(this.options.from,this.options.min,this.options.max),this.options.type&&(this.options.to=this.inDaipason(this.options.to,this.options.from,this.options.max))},t.prototype.inDaipason=function(t,e,o){return void 0===e&&(e=this.options.min),void 0===o&&(o=this.options.min),t<e?e:t>o?o:t},t}();e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o(4),o(5);var i=o(0),n=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.handle=null,this.mousemove=this.mouseMove.bind(this),this.mouseup=this.mouseUp.bind(this),this.triggers={slideStart:new i.default,slideEnd:new i.default,fromChanged:new i.default,toChanged:new i.default},this.options={type:"single",orientation:"horizontal",from_fixed:!1,to_fixed:!1},this.nodes={track:document.createElement("div"),from:document.createElement("span")},this.init(e)}return Object.defineProperty(t.prototype,"data",{get:function(){return this.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.triggers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodesData",{get:function(){return this.nodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootObject",{get:function(){return this.root},enumerable:!0,configurable:!0}),t.prototype.init=function(t){t.type&&(this.options.type=t.type),t.orientation&&(this.options.orientation=t.orientation),void 0!==t.from_fixed&&(this.options.from_fixed=t.from_fixed),void 0!==t.to_fixed&&(this.options.to_fixed=t.to_fixed),this.rootEmpty(),this.setNodes(),this.render(),this.setHandlers()},t.prototype.calcFrom=function(t){"horizontal"===this.options.orientation?this.nodes.from.style.left=t+"%":this.nodes.from.style.bottom=t+"%",this.calcRange()},t.prototype.calcTo=function(t){var e="left";"double"===this.options.type&&this.nodes.to&&("vertical"===this.options.orientation&&(e="bottom"),this.nodes.to.style[e]=t+"%",this.calcRange())},t.prototype.render=function(){if(this.root.appendChild(this.nodes.track),this.nodes.track.appendChild(this.nodes.from),this.nodes.range&&this.nodes.track.appendChild(this.nodes.range),this.nodes.to&&this.nodes.track.appendChild(this.nodes.to),"horizontal"===this.options.orientation&&!this.nodes.track.clientWidth)throw"zero container width";if("vertical"===this.options.orientation&&!this.nodes.track.clientHeight)throw"zero container height"},t.prototype.setHandlers=function(){window.removeEventListener("mousemove",this.mousemove),this.nodes.track.removeEventListener("mousedown",this.mouseDown.bind(this)),window.removeEventListener("mouseup",this.mouseup),this.nodes.track.addEventListener("mousedown",this.mouseDown.bind(this))},t.prototype.calcRange=function(){var t="left",e="right";"single"!==this.options.type&&this.nodes.range&&("vertical"===this.options.orientation&&(t="bottom",e="top"),"min"===this.options.type?(this.nodes.range.style[t]="0",this.nodes.range.style[e]=100-parseFloat(this.nodes.from.style[t])+"%"):"max"===this.options.type?(this.nodes.range.style[t]=this.nodes.from.style[t],this.nodes.range.style[e]="0"):"double"===this.options.type&&this.nodes.to&&(this.nodes.range.style[t]=this.nodes.from.style[t],this.nodes.range.style[e]=100-parseFloat(this.nodes.to.style[t])+"%"))},t.prototype.setNodes=function(){this.nodes={track:document.createElement("div"),from:document.createElement("span")},this.root.className.indexOf("vanilla")<0&&(this.root.className+=" vanilla"),this.nodes.track.setAttribute("class","vanilla-slider vanilla-"+this.options.type+" vanilla-"+this.options.orientation),this.nodes.from.setAttribute("tabindex","0"),this.nodes.from.setAttribute("class","vanilla-handle vanilla-handle-from"),this.options.from_fixed&&this.nodes.from.classList.add("vanilla-handle-fixed"),"single"!==this.options.type?(this.nodes.range=document.createElement("div"),this.nodes.range.setAttribute("class","vanilla-range vanilla-range-"+this.options.type)):delete this.nodes.range,"double"===this.options.type?(this.nodes.to=document.createElement("span"),this.nodes.to.setAttribute("tabindex","0"),this.nodes.to.setAttribute("class","vanilla-handle vanilla-handle-to"),this.options.to_fixed&&this.nodes.to.classList.add("vanilla-handle-fixed")):delete this.nodes.to},t.prototype.rootEmpty=function(){for(;this.root.firstChild;)this.root.removeChild(this.root.firstChild)},t.prototype.mouseDown=function(t){var e=this.getCoord(t);t.preventDefault(),t.target===this.nodes.from?this.handle=this.nodes.from:t.target===this.nodes.to?this.handle=this.nodes.to:t.target!==this.nodes.range&&t.target!==this.nodes.track||(this.handle=this.chooseHandle(e),this.mouseMove(t)),this.nodes.from.classList.remove("last-type"),this.nodes.to&&this.nodes.to.classList.remove("last-type");var o=this.getCoord(t);this.handle&&(this.handle.classList.add("active"),this.handle.classList.add("last-type"),this.events.slideStart.notify(this.handle,o)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)},t.prototype.mouseMove=function(t){var e=this.getCoord(t);this.handle===this.nodes.from?this.events.fromChanged.notify(this.handle,e):this.handle===this.nodes.to&&this.events.toChanged.notify(this.handle,e)},t.prototype.mouseUp=function(t){var e=this.getCoord(t);window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup),this.handle&&(this.handle.classList.remove("active"),this.events.slideEnd.notify(this.handle,e)),this.handle=null},t.prototype.chooseHandle=function(t){if(this.handle)return this.handle;if("double"!==this.options.type)return this.nodes.from;if(this.options.from_fixed&&this.options.to_fixed)return null;if(this.options.from_fixed)return this.nodes.to;if(this.options.to_fixed)return this.nodes.from;var e=this.offset(this.nodes.from),o=this.offset(this.nodes.to);return e===o?"horizontal"===this.options.orientation?t<e?this.nodes.from:this.nodes.to:t>e?this.nodes.from:this.nodes.to:Math.abs(e-t)<Math.abs(o-t)?this.nodes.from:this.nodes.to},t.prototype.getCoord=function(t){return"horizontal"===this.options.orientation?t.pageX-this.nodes.track.offsetLeft:t.pageY-this.nodes.track.offsetTop},t.prototype.outerWidth=function(t){var e=getComputedStyle(t);return t.offsetWidth+parseInt(e.marginLeft)+parseInt(e.marginRight)},t.prototype.outerHeight=function(t){var e=getComputedStyle(t);return t.offsetHeight+parseInt(e.marginLeft)+parseInt(e.marginRight)},t.prototype.offset=function(t){return"horizontal"===this.options.orientation?t.offsetLeft+this.outerWidth(t)/2:t.offsetTop+this.outerHeight(t)/2},t}();e.default=n},function(t,e){},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,o){this.model=t,this.view=e,this.callbacks={},this.customEvents={},this.init(o)}return t.prototype.init=function(t,e){var o=this;t.onCreate&&(this.callbacks.onCreate=t.onCreate),t.onStart&&(this.callbacks.onStart=t.onStart),t.onSlide&&(this.callbacks.onSlide=t.onSlide),t.onEnd&&(this.callbacks.onEnd=t.onEnd),t.onUpdate&&(this.callbacks.onUpdate=t.onUpdate),e?(this.customEvents.update=new CustomEvent("vanillaupdate",{detail:{target:this.view.rootObject},bubbles:!0,cancelable:!0}),this.callFunction(this.customEvents.update,{from:this.model.data.from,to:this.model.data.to},this.callbacks.onUpdate),this.view.rootObject.dispatchEvent(this.customEvents.update)):(this.customEvents.create=new CustomEvent("vanillacreate",{detail:{target:this.view.rootObject},bubbles:!0,cancelable:!0}),this.view.rootObject.dispatchEvent(this.customEvents.create),this.callFunction(this.customEvents.create,{from:this.model.data.from,to:this.model.data.to},this.callbacks.onCreate)),this.view.events.fromChanged.attach(function(t,e){o.customEvents.slide=new MouseEvent("vanillaslide",{bubbles:!0,cancelable:!0}),o.model.calcFromWithStep(o.convertToReal(e))}),this.view.events.toChanged.attach(function(t,e){o.customEvents.slide=new MouseEvent("vanillaslide",{bubbles:!0,cancelable:!0}),o.model.calcToWithStep(o.convertToReal(e))}),this.view.events.slideStart.attach(function(t){o.customEvents.start=new MouseEvent("vanillastart",{bubbles:!0,cancelable:!0}),o.callFunction(o.customEvents.start,{handle:t,from:o.model.data.from,to:o.model.data.to},o.callbacks.onStart),t.dispatchEvent(o.customEvents.start)}),this.view.events.slideEnd.attach(function(t){o.customEvents.end=new MouseEvent("vanillaend",{bubbles:!0,cancelable:!0}),o.callFunction(o.customEvents.end,{handle:t,from:o.model.data.from,to:o.model.data.to},o.callbacks.onEnd),t.dispatchEvent(o.customEvents.end)}),this.model.events.fromChanged.attach(function(t){o.view.calcFrom(o.converToPercent(t)),o.customEvents.slide&&(o.callFunction(o.customEvents.slide,{handle:o.view.nodesData.from,from:o.model.data.from,to:o.model.data.to},o.callbacks.onSlide),o.view.nodesData.from.dispatchEvent(o.customEvents.slide))}),this.model.events.toChanged.attach(function(t){o.view.calcTo(o.converToPercent(t)),o.customEvents.slide&&(o.callFunction(o.customEvents.slide,{handle:o.view.nodesData.to,from:o.model.data.from,to:o.model.data.to},o.callbacks.onSlide),o.view.nodesData.to.dispatchEvent(o.customEvents.slide))}),this.view.calcFrom(this.converToPercent(this.model.data.from)),this.view.calcTo(this.converToPercent(this.model.data.to))},t.prototype.converToPercent=function(t){var e=this.model.data.max-this.model.data.min;return+(100*(t-this.model.data.min)/e).toFixed(10)},t.prototype.convertToReal=function(t){var e=this.model.data.max-this.model.data.min;if("horizontal"===this.view.data.orientation){return+(t*e/this.view.nodesData.track.clientWidth+this.model.data.min).toFixed(10)}var o=this.view.nodesData.track.clientHeight;return+((o-t)*e/o+this.model.data.min).toFixed(10)},t.prototype.callFunction=function(t,e,o){void 0===e&&(e={}),o&&"function"==typeof o&&o(t,e)},t}();e.default=i}]).default});